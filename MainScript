try {
    if (-not ([Security.Principal.WindowsPrincipal][Security.Principal.WindowsIdentity]::GetCurrent()).IsInRole([Security.Principal.WindowsBuiltInRole]::Administrator)) {


        $arguments = "& '" + $myinvocation.mycommand.definition + "'"

        Start-Process powershell -ArgumentList $arguments -Verb RunAs

        exit

    }
} catch {
    Write-Host "Error: $_"
    exit 1
}
